<!DOCTYPE html>
<html>
  <head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js%22%3E"></script> 
    <link rel="stylesheet" href="styles.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.jpg">
    <title>Kare Puzzle Oyunu</title>
    <style>
      body {
			background-image: url('bac.jpg');
			background-repeat: no-repeat;
			background-size: cover;
		}
    .container {
        margin: auto;
      }
    </style>
  </head>
  <body>
    <p>Zaman: <span id="timer">0</span> saniye</p>
    <p>Hamle Sayısı: <span id="moveCount">0</span></p>
    <form>
      <input type="file" id="imgFile" accept="image/*"style="margin-left: 600px;" />
    </form>
    <div class="container" id="previewContainer">
      <img id="imgPreview" src="#" alt="Görsel yüklenmedi" />
    </div>
    <div id="score">
        <p>Skor:0 </p>
    </div>

    <!-- İSİM EKLEME -->
    <div id="nameadd">
      <div class="form-group">
      <p><b> Skor İçin İsim Girin:</b> </p>
    <form role="form">
        <input type="text" class="form-control" placeholder="İsim giriniz" name="name" style="padding: 8px;width: 200px;">
            <button type="button" id="nameadd">Kaydet</button>
    </form>
        </div>
    </div>
    
    <!--  İSİM EKLEME BİTTİ-->

    <button id="startbtn" style="margin-left: 700px;" disabled>Karıştır</button>
    <button style="visibility: hidden" id="endbtn" >Bitir</button>
    
    <div style="visibility: hidden;margin-bottom: 80px;" class="row" id="imgGrid"></div>
    <script src="script.js"></script>
    
  </body>
  <script>
    const startbtn = document.getElementById("startbtn");
    const endbtn = document.getElementById("endbtn");
    const hiddenDiv = document.getElementById("imgGrid");
    const prv = document.getElementById("previewContainer");
    const imgFileRes = document.getElementById("imgFile");
    const imgPreviewCheck = document.getElementById("imgPreview");
    const nameadd = document.getElementById("nameadd");// endbtn a bakarak ben ekledim

    imgFileRes.addEventListener("change", function () {
      if (imgPreviewCheck.src) {
        startbtn.disabled = false;
      } else {
        startbtn.disabled = true;
      }
    });

    imgPreviewCheck.addEventListener("load", function () {

      const cols = document.querySelectorAll(".col");
      cols.forEach(function (col) {
        col.remove();
      });

      if (imgPreviewCheck.src) {
        startbtn.disabled = false;
      } else {
        startbtn.disabled = true;
      }
    });

    imgPreviewCheck.addEventListener("error", function () {
      startbtn.disabled = true;
    });

    startbtn.addEventListener("click", function () {
      hiddenDiv.style.visibility = "visible";
      prv.style.visibility = "hidden";
      prv.style.position = "absolute";
      startbtn.style.visibility = "hidden";
      endbtn.style.visibility = "visible";
      imgFileRes.style.visibility ="hidden";
      nameadd.style.visibility="hidden";//isim ekleme kısmı
      nameadd.style.display="none";
      imgFileRes.style.display="none";
    });

    endbtn.addEventListener("click", function () {
      hiddenDiv.style.visibility = "hidden";
      prv.style.visibility = "visible";
      prv.style.position = "relative";
      startbtn.style.visibility = "visible";
      endbtn.style.visibility = "hidden";
      imgFileRes.style.visibility ="visible";
      nameadd.style.visibility="visible";//isim ekleme kısmı
      nameadd.style.display="block";
      imgFileRes.style.display="block";

      const cols = document.querySelectorAll(".col");
      cols.forEach(function (col) {
        col.remove();
      });

      imgFileRes.value = "";
      document.getElementById("imgPreview").src = " ";
    });


    //İsim ekleme kısmı
    $(document).ready(function () {
    $('button').click(function () {
        $('#todo').append("<ul>" + $("input[name=name]").val() + " <a href='#' class='close' aria-hidden='true'>&times;</a></ul>");
    });
    $("body").on('click', '#todo a', function () {
        $(this).closest("ul").remove();
    });
});
//isim ekleme bitti
  </script>
</html>
